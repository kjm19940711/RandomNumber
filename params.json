{"name":"Randomnumber","tagline":"生成随机数的程序","body":"<!DOCTYPE html>\r\n<html>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"/>\r\n<style>\r\n\t.axis path,\r\n\t.axis line{\r\n\t\tfill: none;\r\n\t\tstroke: black;\r\n\t\tshape-rendering: crispEdges;\r\n\t}\r\n\r\n\t.axis text {\r\n\t\tfont-family: sans-serif;\r\n\t\tfont-size: 11px;\r\n\t}\r\n\r\n\t.MyRect {\r\n\t\tfill: steelblue;\r\n\t}\r\n\r\n\t.MyText {\r\n\t\tfill: white;\r\n\t\ttext-anchor: middle;\r\n\t}\r\n\r\n\r\n\trect {\r\n  \t\tfill: none;\r\n  \t\tpointer-events: all;\r\n\t}\r\n\r\n\tcircle {\r\n  \t\tfill: none;\r\n \t\tstroke-width: 2.5px;\r\n\t}\r\n</style>\r\n\r\n<body>\r\n\t<p style=\"font-family:courier\">生成随机数程序 version 1.0 Powered By Junming Ke<p>\r\n\t<p>修改日志：<br>1)对结果换行显示，便于比较；<br>2)加了点击时的时间；<br>3)采用d3.js对生成的结果作图<p>\r\n\t<script src=\"http://d3js.org/d3.v3.min.js\" charset=\"utf-8\"></script>  \r\n\t<script>\r\n\tvar x1;\r\n\tvar Num=[];\r\n\tfunction RanNum()\r\n\t{\r\n\t\t\r\n\r\n\t\tif (x1===\"\"||isNaN(x1))\r\n\t\t{\r\n\t\t\tx1=0;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tx1=x1+1;\r\n\t\t}\r\n\t\tvar x = parseInt((Math.random()*100));\r\n\t\tvar br = document.createElement(\"br\");\r\n\t\tvar t = new Date().getHours();\r\n\t\tvar m = new Date().toLocaleTimeString();\r\n\t\t//alert(x);\r\n\t\t\r\n\t\tNum[x1] = x;\r\n\t\t// x1=x1+1; \r\n\t\t// var i;\r\n\t\tvar node = document.createTextNode(m + \" 第\" + x1 + \"次的结果为：\" + x);\r\n\t\tdocument.getElementById('result').appendChild(node);\r\n\t\tdocument.getElementById('result').appendChild(br);\r\n\r\n\r\n\r\n\t\tif (x1>0) \r\n\t\t\t{\r\n\t\t\t\tdocument.getElementById('result01').innerHTML = \"\";\r\n\t\t\t};\r\n\r\n\t\t//画布大小\r\n\tvar width = 300;\r\n\tvar height = 300;\r\n\r\n\t//在 body 里添加一个 SVG 画布\t\r\n\t\r\n\t\r\n\tvar svg = d3.select(\"#result01\")\r\n\t\t.append(\"svg\")\r\n\t\t.attr(\"width\", width)\r\n\t\t.attr(\"height\", height);\r\n\t//画布周边的空白\r\n\tvar padding = {left:30, right:30, top:20, bottom:20};\r\n\r\n\t//定义一个数组\r\n\r\n\tvar dataset =Num;\r\n\t\t\r\n\t//x轴的比例尺\r\n\tvar xScale = d3.scale.ordinal()\r\n\t\t.domain(d3.range(dataset.length))\r\n\t\t.rangeRoundBands([0, width - padding.left - padding.right]);\r\n\r\n\t//y轴的比例尺\r\n\tvar yScale = d3.scale.linear()\r\n\t\t.domain([0,d3.max(dataset)])\r\n\t\t.range([height - padding.top - padding.bottom, 0]);\r\n\r\n\t//定义x轴\r\n\tvar xAxis = d3.svg.axis()\r\n\t\t.scale(xScale)\r\n\t\t.orient(\"bottom\");\r\n\t\t\r\n\t//定义y轴\r\n\tvar yAxis = d3.svg.axis()\r\n\t\t.scale(yScale)\r\n\t\t.orient(\"left\");\r\n\r\n\t//矩形之间的空白\r\n\tvar rectPadding = 4;\r\n\r\n\t//添加矩形元素\r\n\tvar rects = svg.selectAll(\".MyRect\")\r\n\t\t.data(dataset)\r\n\t\t.enter()\r\n\t\t.append(\"rect\")\r\n\t\t.attr(\"class\",\"MyRect\")\r\n\t\t.attr(\"transform\",\"translate(\" + padding.left + \",\" + padding.top + \")\")\r\n\t\t.attr(\"x\", function(d,i){\r\n\t\t\treturn xScale(i) + rectPadding/2;\r\n\t\t} )\r\n\t\t.attr(\"width\", xScale.rangeBand() - rectPadding )\r\n\t\t.attr(\"y\",function(d){\r\n\t\t\tvar min = yScale.domain()[0];\r\n\t\t\treturn yScale(min);\r\n\t\t})\r\n\t\t.attr(\"height\", function(d){\r\n\t\t\treturn 0;\r\n\t\t})\r\n\t\t.transition()\r\n\t\t.delay(function(d,i){\r\n\t\t\treturn i * 200;\r\n\t\t})\r\n\t\t.duration(2000)\r\n\t\t.ease(\"bounce\")\r\n\t\t.attr(\"y\",function(d){\r\n\t\t\treturn yScale(d);\r\n\t\t})\r\n\t\t.attr(\"height\", function(d){\r\n\t\t\treturn height - padding.top - padding.bottom - yScale(d);\r\n\t\t});\r\n\r\n\t//添加文字元素\r\n\tvar texts = svg.selectAll(\".MyText\")\r\n\t\t.data(dataset)\r\n\t\t.enter()\r\n\t\t.append(\"text\")\r\n\t\t.attr(\"class\",\"MyText\")\r\n\t\t.attr(\"transform\",\"translate(\" + padding.left + \",\" + padding.top + \")\")\r\n\t\t.attr(\"x\", function(d,i){\r\n\t\t\treturn xScale(i) + rectPadding/2;\r\n\t\t} )\r\n\t\t.attr(\"dx\",function(){\r\n\t\t\treturn (xScale.rangeBand() - rectPadding)/2;\r\n\t\t})\r\n\t\t.attr(\"dy\",function(d){\r\n\t\t\treturn 20;\r\n\t\t})\r\n\t\t.text(function(d){\r\n\t\t\treturn d;\r\n\t\t})\r\n\t\t.attr(\"y\",function(d){\r\n\t\t\tvar min = yScale.domain()[0];\r\n\t\t\treturn yScale(min);\r\n\t\t})\r\n\t\t.transition()\r\n\t\t.delay(function(d,i){\r\n\t\t\treturn i * 200;\r\n\t\t})\r\n\t\t.duration(2000)\r\n\t\t.ease(\"bounce\")\r\n\t\t.attr(\"y\",function(d){\r\n\t\t\treturn yScale(d);\r\n\t\t});\r\n\r\n\t//添加x轴\r\n\tsvg.append(\"g\")\r\n\t\t.attr(\"class\",\"axis\")\r\n\t\t.attr(\"transform\",\"translate(\" + padding.left + \",\" + (height - padding.bottom) + \")\")\r\n\t\t.call(xAxis); \r\n\t\t\r\n\t//添加y轴\r\n\tsvg.append(\"g\")\r\n\t\t.attr(\"class\",\"axis\")\r\n\t\t.attr(\"transform\",\"translate(\" + padding.left + \",\" + padding.top + \")\")\r\n\t\t.call(yAxis);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\t</script>\r\n\t<button type='button' onclick=\"RanNum()\" style=\"width:180px;height:30px;background-color: #00FF00\">生成随机数</button>\r\n\t<!--<div>\r\n\t<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-left:auto; margin-right:auto;\">\r\n\t<tr>\r\n\t<td>-->\r\n\t\t<div id=\"result\">\r\n\t\t</div>\r\n\t\t<div id=\"result01\">\r\n\t\t</div>\r\n\r\n\t<!--</td>\r\n\t</tr>\r\n\t</table> \r\n\t</div>-->\r\n\t\r\n\t<script>\r\n\r\n\t\r\n</script>  \r\n\r\n</body>\r\n</html>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}